<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>【设计模式】Go语言的面向对象 - Razil&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
  
  <meta name="description" content="前言 工作中遇到转来使用Go语言的朋友或者同事，基本都是从现有语言，像C&#43;&#43;和JAVA转来。所以在平时交流时候多少会需要引用到以前所学的一些概">
  
  <meta itemprop="name" content="【设计模式】Go语言的面向对象 - Razil&#39;s Blog">
  <meta itemprop="description" content="前言 工作中遇到转来使用Go语言的朋友或者同事，基本都是从现有语言，像C&#43;&#43;和JAVA转来。所以在平时交流时候多少会需要引用到以前所学的一些概">
  <meta itemprop="image" content="/img/author.jpg">
  
  
  <meta name="twitter:description" content="">
  
  <link rel="shortcut icon" href="../../../../img/favicon.ico"/>
  <link rel="apple-touch-icon" href="../../../../apple-touch-icon.png" />
  <link rel="apple-touch-icon-precomposed" href="../../../../apple-touch-icon.png" />
  <link rel="stylesheet" href="../../../../highlight/styles/github.css">
  <script src="../../../../highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <link rel="stylesheet" href="../../../../font/hack/css/hack.min.css">
  <link rel="stylesheet" href="../../../../css/style.css">
</head>

<body>
  <header>
    <div>
  
  <div id="textlogo">
    <h1 class="site-name"><a href="../../../../" title="Razil&#39;s Blog">Razil&#39;s Blog</a></h1>
    <h2 class="site-name">记录技术路上的点点滴滴</h2>

  </div>
  <div class="navbar"><a class="navbutton navmobile" href="#" title="menu"></a></div>
  <nav class="animated">
    <ul>
      
      <li><a href="../../../../">首页</a></li>
      
      <li><a href="../../../../about">关于</a></li>
      
      <li><a href="../../../../post/toolkit">兵器库</a></li>
      
      <li><a href="../../../../post/books">藏经阁</a></li>
      
      <li><a href="../../../../post/course">课堂</a></li>
      
      <li>
        <form class="search" method="get" action="https://www.google.com/search">
          <div>
            <input type="text" id="search" name="q" placeholder="搜索">
          </div>
        </form>
      </li>
    </ul>
  </nav>
</div>

  </header>
  <div id="container">
    <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody">
    <header class="article-info clearfix">
  <h1 itemprop="name">
      <a href="../../../../post/2018/03/go-oop/" title="【设计模式】Go语言的面向对象" itemprop="url">【设计模式】Go语言的面向对象</a>
  </h1>
  <p class="article-author">By
    
      <a href="" title=""></a>
    
  </p>
  <p class="article-time">
    <time datetime="2018-03-12 23:04:21 &#43;0800 CST" itemprop="datePublished">2018年03月12号</time>
  </p>
</header>

	<div class="article-content">
    
		<div class="toc-article">
			<strong class="toc-title">文章目录</strong>
      <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#前言">前言</a></li>
<li><a href="#三大特征">三大特征</a>
<ul>
<li><a href="#封装">封装</a></li>
<li><a href="#继承">继承</a></li>
<li><a href="#多态">多态</a></li>
</ul></li>
<li><a href="#五大原则">五大原则</a>
<ul>
<li><a href="#单一职责">单一职责</a></li>
<li><a href="#开放封闭-ocp">开放封闭(OCP)</a></li>
<li><a href="#替换原则-lsp">替换原则(LSP)</a></li>
<li><a href="#依赖倒置">依赖倒置</a></li>
<li><a href="#接口隔离">接口隔离</a></li>
</ul></li>
<li><a href="#引用">引用</a></li>
</ul></li>
</ul>
</nav>
		</div>
    
    

<h2 id="前言">前言</h2>

<p>工作中遇到转来使用Go语言的朋友或者同事，基本都是从现有语言，像C++和JAVA转来。所以在平时交流时候多少会需要引用到以前所学的一些概念和方法，而面向对象这一块就是经常碰到的讨论点之一。在面向对象设计中，Go语言有些实现并不能完全按照C++和JAVA的概念进行理解。所以本文介绍的准确说是依照Go语言自身方法，来对面向对象进行模拟实现。</p>

<p>Go是否是一个面向对象语言？
答案是: Go并不是一个纯面向对象语言。原由出自Go的<a href="https://golang.org/doc/faq#Is_Go_an_object-oriented_language">FAQ</a>
&gt;Is Go an object-oriented language?
Yes and no. Although Go has types and methods and allows an object-oriented style of programming, there is no type hierarchy. The concept of “interface” in Go provides a different approach that we believe is easy to use and in some ways more general. There are also ways to embed types in other types to provide something analogous—but not identical—to subclassing. Moreover, methods in Go are more general than in C++ or Java: they can be defined for any sort of data, even built-in types such as plain, “unboxed” integers. They are not restricted to structs (classes).
&gt;
&gt;Also, the lack of a type hierarchy makes “objects” in Go feel much more lightweight than in languages such as C++ or Java.</p>

<h2 id="三大特征">三大特征</h2>

<h3 id="封装">封装</h3>

<blockquote>
<p>把客观事物封装成抽象的类，并且类可以把自己的数据和方法只让可信的类或者对象操作，对不可信的进行信息隐藏</p>
</blockquote>

<p>由于Go无类的概念，但是我们有interface和结构体。在Go中可以通过结构体和接口进行封装操作。通过控制变量、结构体和方法首字母大小来实现内外部访问控制。</p>

<pre><code class="language-go">type MyStruct struct{
    id int64 //仅供内部访问
    Name string  //允许外部访问
}

//允许外部访问方法(public)
func NewObject(){
}

//仅允许包内访问方法(private)
func checkObject(){
}

//限定仅允许某对象示例访问方法
func (this *MyStruct) Clone() {
}
</code></pre>

<h3 id="继承">继承</h3>

<blockquote>
<p>可以让某个类型的对象获得另一个类型的对象的属性的方法。它支持按级分类的概念。继承是指这样一种能力:它可以使用现有类的所有功能,并在无需重新编写原来的类的情况下对这些功能进行扩展。 通过继承创建的新类称为“子类”或“派生类”,被继承的类称为“基类”、“父类”或“超类”</p>
</blockquote>

<p>由于Go中无类的概念。但是与封装方法相同，我们还是以结构体为基础，使用<strong>【内嵌】</strong>功能实现对结构体进行××组合××，实现类似继承的效果。其中通过内嵌方法生成的新结构体允许访问原结构体的方法。</p>

<pre><code class="language-go">//基类
type MyStruct struct {
    id   int64
    Name string
}

//限定仅允许MyStruct结构体实例访问的方法
func (this *MyStruct) generateId() {
    this.id = time.Now().Unix()
    return
}

//子类(派生类)
type MyChildStruct struct {
    MyStruct //基类
    Phone string
}

</code></pre>

<h3 id="多态">多态</h3>

<blockquote>
<p>指一个类实例的相同方法在不同情形有不同表现形式。多态机制使具有不同内部结构的对象可以共享相同的外部接口。这意味着,虽然针对不同对象的具体操作不同,但通过一个公共的类,它们(那些操作)可以通过相同的方式予以调用。</p>
</blockquote>

<p>实现:</p>

<pre><code class="language-go">type Dog struct {
    Name string
}

func (this *Dog) String() string {
    return `Type: Dog , Name: ` + this.Name
}

type Cat struct {
    Name string
}

func (this *Cat) String() string {
    return `Type: Cat , Name: ` + this.Name
}

type Aninals interface {
    String() string
}

func main() {
    myDog := &amp;Dog{Name: &quot;W&quot;}
    myCat := &amp;Cat{Name: &quot;W&quot;}

    myAnimals := []Aninals{}
    myAnimals = append(myAnimals, Aninals(myDog))
    myAnimals = append(myAnimals, Aninals(myCat))
    for _, animal := range myAnimals {
        fmt.Println(animal.String())
    }

}

</code></pre>

<h2 id="五大原则">五大原则</h2>

<h3 id="单一职责">单一职责</h3>

<blockquote>
<p>一个类的功能要单一,不能包罗万象</p>
</blockquote>

<h3 id="开放封闭-ocp">开放封闭(OCP)</h3>

<blockquote>
<p>一个模块在扩展性方面应该是开放的而在更改性方面应该是封闭的</p>
</blockquote>

<h3 id="替换原则-lsp">替换原则(LSP)</h3>

<blockquote>
<p>子类应当可以替换父类并出现在父类能够出现的任何地方</p>
</blockquote>

<h3 id="依赖倒置">依赖倒置</h3>

<blockquote>
<p>具体依赖抽象,上层依赖下层。</p>

<h3 id="接口隔离">接口隔离</h3>

<p>模块间要通过抽象接口隔离开,而不是通过具体的类强耦合起来</p>

<h2 id="引用">引用</h2>

<ul>
<li><a href="https://github.com/luciotato/golang-notes/blob/master/OOP.md">Golang concepts from an OOP point of view</a><br /></li>
<li><a href="https://golang.org/doc/faq">Golang FAQ</a><br /></li>
<li><a href="https://www.aliyun.com/jiaocheng/88926.html">面向对象三大基本特性,五大基本原则</a><br /></li>
</ul>
</blockquote>

	</div>
  <footer class="article-footer clearfix">
  

<div class="article-tags">
  <span></span>
  
  <a href="../../../../tags/go">go</a>
  
  <a href="../../../../tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1">面向对象</a>
  
  <a href="../../../../tags/oop">oop</a>
  
</div>





<div class="article-categories">
  <span></span>
  
  <a class="article-category-link" href="../../../../categories/go">go</a>
  
</div>



  <div class="article-share" id="share">
    <div data-url="/post/2018/03/go-oop/" data-title="【设计模式】Go语言的面向对象" data-tsina="" class="share clearfix">
    </div>
  </div>
</footer>

	</article>
  



</div>

    <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>
<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">
  

<div class="categorieslist">
  <p class="asidetitle">分类</p>
  <ul>
    
    <li><a href="../../../../categories/docker" title="docker">docker<sup>1</sup></a></li>
    
    <li><a href="../../../../categories/go" title="go">go<sup>8</sup></a></li>
    
    <li><a href="../../../../categories/golang" title="golang">golang<sup>5</sup></a></li>
    
    <li><a href="../../../../categories/rpc" title="rpc">rpc<sup>1</sup></a></li>
    
    <li><a href="../../../../categories/%e4%bd%bf%e7%94%a8%e6%89%8b%e8%ae%b0" title="使用手记">使用手记<sup>4</sup></a></li>
    
    <li><a href="../../../../categories/%e5%88%86%e5%b8%83%e5%bc%8f" title="分布式">分布式<sup>1</sup></a></li>
    
    <li><a href="../../../../categories/%e5%af%86%e7%a0%81%e5%ad%a6" title="密码学">密码学<sup>1</sup></a></li>
    
    <li><a href="../../../../categories/%e6%95%b0%e6%8d%ae%e5%ba%93" title="数据库">数据库<sup>1</sup></a></li>
    
    <li><a href="../../../../categories/%e6%b1%87%e6%80%bb" title="汇总">汇总<sup>1</sup></a></li>
    
    <li><a href="../../../../categories/%e8%af%91%e6%96%87" title="译文">译文<sup>2</sup></a></li>
    
    <li><a href="../../../../categories/%e9%98%85%e8%af%bb%e7%ac%94%e8%ae%b0" title="阅读笔记">阅读笔记<sup>1</sup></a></li>
    
    <li><a href="../../../../categories/%e9%9a%8f%e7%ac%94" title="随笔">随笔<sup>1</sup></a></li>
    
  </ul>
</div>



  

<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
      
			<li><a href="../../../../tags/" title=""><sup>1</sup></a></li>
      
			<li><a href="../../../../tags/beego" title="beego">beego<sup>2</sup></a></li>
      
			<li><a href="../../../../tags/context" title="context">context<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/docker" title="docker">docker<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/elasticsearch" title="elasticsearch">elasticsearch<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/go" title="go">go<sup>3</sup></a></li>
      
			<li><a href="../../../../tags/golang" title="golang">golang<sup>3</sup></a></li>
      
			<li><a href="../../../../tags/grpc" title="grpc">grpc<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/influxdb" title="influxdb">influxdb<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/json" title="json">json<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/oop" title="oop">oop<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/orm" title="orm">orm<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/relfect" title="relfect">relfect<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/rpc" title="rpc">rpc<sup>2</sup></a></li>
      
			<li><a href="../../../../tags/web" title="web">web<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/websocket" title="websocket">websocket<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/%e4%bd%bf%e7%94%a8%e6%89%8b%e8%ae%b0" title="使用手记">使用手记<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/%e5%88%86%e5%b8%83%e5%bc%8f" title="分布式">分布式<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/%e5%8a%a0%e5%af%86" title="加密">加密<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/%e6%ad%a3%e5%88%99" title="正则">正则<sup>2</sup></a></li>
      
			<li><a href="../../../../tags/%e6%ad%a3%e5%88%99%e5%8c%b9%e9%85%8d" title="正则匹配">正则匹配<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/%e6%b1%87%e6%80%bb" title="汇总">汇总<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/%e7%bd%91%e7%bb%9c%e7%88%ac%e8%99%ab" title="网络爬虫">网络爬虫<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/%e8%87%aa%e5%8a%a8%e5%8c%96%e6%9e%84%e5%bb%ba" title="自动化构建">自动化构建<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/%e9%9a%8f%e7%ac%94" title="随笔">随笔<sup>1</sup></a></li>
      
			<li><a href="../../../../tags/%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1" title="面向对象">面向对象<sup>1</sup></a></li>
      
		</ul>
</div>



  
  <div class="archiveslist">
    <p class="asidetitle">归档</p>
    <ul class="archive-list">
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="../../../../post/#2018-03">2018年03月</a><span class="archive-list-count">4</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="../../../../post/#2018-01">2018年01月</a><span class="archive-list-count">2</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="../../../../post/#2017-12">2017年12月</a><span class="archive-list-count">2</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="../../../../post/#2017-11">2017年11月</a><span class="archive-list-count">2</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="../../../../post/#2017-10">2017年10月</a><span class="archive-list-count">1</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="../../../../post/#2017-09">2017年09月</a><span class="archive-list-count">2</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="../../../../post/#2017-08">2017年08月</a><span class="archive-list-count">2</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="../../../../post/#2017-07">2017年07月</a><span class="archive-list-count">1</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="../../../../post/#2017-05">2017年05月</a><span class="archive-list-count">2</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="../../../../post/#2017-04">2017年04月</a><span class="archive-list-count">1</span>
      </li>
      
      
      <li class="archive-list-item">
        <a class="archive-list-link" href="../../../../post/#2017-03">2017年03月</a><span class="archive-list-count">1</span>
      </li>
      
    </ul>

  </div>


  

<div class="tagcloudlist">
  <p class="asidetitle">标签云</p>
  <div class="tagcloudlist clearfix">
    
    <a href="../../../../tags/" style="font-size: 12px;"></a>
    
    <a href="../../../../tags/beego" style="font-size: 12px;">beego</a>
    
    <a href="../../../../tags/context" style="font-size: 12px;">context</a>
    
    <a href="../../../../tags/docker" style="font-size: 12px;">docker</a>
    
    <a href="../../../../tags/elasticsearch" style="font-size: 12px;">elasticsearch</a>
    
    <a href="../../../../tags/go" style="font-size: 12px;">go</a>
    
    <a href="../../../../tags/golang" style="font-size: 12px;">golang</a>
    
    <a href="../../../../tags/grpc" style="font-size: 12px;">grpc</a>
    
    <a href="../../../../tags/influxdb" style="font-size: 12px;">influxdb</a>
    
    <a href="../../../../tags/json" style="font-size: 12px;">json</a>
    
    <a href="../../../../tags/oop" style="font-size: 12px;">oop</a>
    
    <a href="../../../../tags/orm" style="font-size: 12px;">orm</a>
    
    <a href="../../../../tags/relfect" style="font-size: 12px;">relfect</a>
    
    <a href="../../../../tags/rpc" style="font-size: 12px;">rpc</a>
    
    <a href="../../../../tags/web" style="font-size: 12px;">web</a>
    
    <a href="../../../../tags/websocket" style="font-size: 12px;">websocket</a>
    
    <a href="../../../../tags/%e4%bd%bf%e7%94%a8%e6%89%8b%e8%ae%b0" style="font-size: 12px;">使用手记</a>
    
    <a href="../../../../tags/%e5%88%86%e5%b8%83%e5%bc%8f" style="font-size: 12px;">分布式</a>
    
    <a href="../../../../tags/%e5%8a%a0%e5%af%86" style="font-size: 12px;">加密</a>
    
    <a href="../../../../tags/%e6%ad%a3%e5%88%99" style="font-size: 12px;">正则</a>
    
    <a href="../../../../tags/%e6%ad%a3%e5%88%99%e5%8c%b9%e9%85%8d" style="font-size: 12px;">正则匹配</a>
    
    <a href="../../../../tags/%e6%b1%87%e6%80%bb" style="font-size: 12px;">汇总</a>
    
    <a href="../../../../tags/%e7%bd%91%e7%bb%9c%e7%88%ac%e8%99%ab" style="font-size: 12px;">网络爬虫</a>
    
    <a href="../../../../tags/%e8%87%aa%e5%8a%a8%e5%8c%96%e6%9e%84%e5%bb%ba" style="font-size: 12px;">自动化构建</a>
    
    <a href="../../../../tags/%e9%9a%8f%e7%ac%94" style="font-size: 12px;">随笔</a>
    
    <a href="../../../../tags/%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1" style="font-size: 12px;">面向对象</a>
    
  </div>
</div>



  

</aside>
</div>

  </div>
  <footer><div id="footer" >
  
  
  <div class="social-font clearfix">
    
    
    
    
    
  </div>
  <p class="copyright">Powered by <a href="http://gohugo.io" target="_blank" title="hugo">hugo</a> and Theme by <a href="https://github.com/coderzh/hugo-pacman-theme" target="_blank" title="hugo-pacman-theme">hugo-pacman-theme</a>
  </p>
  <p class="copyright">                
   ©2016-2018 Razil. All rights reserved.
    
  </p>    
  <p class="copyright">                
    ICP:<a href="http://www.miitbeian.gov.cn/" target=blank>粤ICP备17137859号-1</a>
    
  </p>  
</div>
</footer>
  <script src="../../../../js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
done = false;
$(document).ready(function(){
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize();
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  $('form.search').on('submit', function (event) {
    if (false === done) {
      event.preventDefault();
      var orgVal = $(this).find('#search').val();
      $(this).find('#search').val('site: ' + orgVal);
      done = true;
      $(this).submit();
    }
  });
});
</script>





</body>
</html>
